package com.nisha.spring.finalex.controller;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.nisha.spring.finalex.model.Reservation;
import com.nisha.spring.finalex.repository.ReservationRepository;
import org.springframework.web.bind.annotation.*;
import java.util.List;

@RestController
@RequestMapping("/api/reservations")
public class ReservationRestController {
	
    private final ReservationRepository repo;
    private final ObjectMapper objectMapper;

    public ReservationRestController(ReservationRepository repo, ObjectMapper objectMapper) {
        this.repo = repo;
        this.objectMapper = objectMapper;
    }

    @PostMapping
    public Reservation createReservation(@RequestBody Reservation reservation) {
        return repo.save(reservation);
    }

    @GetMapping
    public List<Reservation> getAllReservations() {
        return repo.findAll();
    }

    @PutMapping("/{id}")
    public Reservation updateReservation(@PathVariable String id, @RequestBody Reservation reservation) {
        reservation.setId(id);
        return repo.save(reservation);
    }

}
